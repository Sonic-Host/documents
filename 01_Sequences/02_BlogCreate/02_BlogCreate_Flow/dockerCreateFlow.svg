<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="366px" preserveAspectRatio="none" style="width:723px;height:366px;background:#FFFFFF;" version="1.1" viewBox="0 0 723 366" width="723px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="85" x="318" y="27.9951">Docker生成</text><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="87" y="194.4219"/><rect fill="#FFFFFF" height="206.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="324" y="99.8906"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="470" y="136.1563"/><rect fill="#FFFFFF" height="53.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="635" y="252.6875"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="92" x2="92" y1="89.8906" y2="314.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="329" x2="329" y1="89.8906" y2="314.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="475" x2="475" y1="89.8906" y2="314.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="640" x2="640" y1="89.8906" y2="314.9531"/><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="174" x="5" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="12" y="62.292">WordPress管理バケット</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="78" y="78.5889">(S3)</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="174" x="5" y="313.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="12" y="333.9482">WordPress管理バケット</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="78" y="350.2451">(S3)</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="273" y="58.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="280" y="78.5889">バッチサーバー</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="273" y="313.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="280" y="333.9482">バッチサーバー</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="156" x="397" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="414" y="62.292">Dockerリポジトリ</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="404" y="78.5889">(DockerHub or ECR)</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="156" x="397" y="313.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="414" y="333.9482">Dockerリポジトリ</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="404" y="350.2451">(DockerHub or ECR)</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154" x="563" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="570" y="62.292">サイト用インスタンス</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="609" y="78.5889">(Docker)</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154" x="563" y="313.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="570" y="333.9482">サイト用インスタンス</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="609" y="350.2451">(Docker)</text><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="87" y="194.4219"/><rect fill="#FFFFFF" height="206.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="324" y="99.8906"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="470" y="136.1563"/><rect fill="#FFFFFF" height="53.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="635" y="252.6875"/><polygon fill="#181818" points="458,132.1563,468,136.1563,458,140.1563,462,136.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="334" x2="464" y1="136.1563" y2="136.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="341" y="115.9575">バージョンに応じた</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="341" y="131.0903">イメージの取得</text><polygon fill="#181818" points="345,161.2891,335,165.2891,345,169.2891,341,165.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="339" x2="474" y1="165.2891" y2="165.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="351" y="160.2231">DockerImage</text><polygon fill="#181818" points="108,190.4219,98,194.4219,108,198.4219,104,194.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="102" x2="323" y1="194.4219" y2="194.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="114" y="189.356">対象のバックアップファイルを要求</text><polygon fill="#181818" points="312,219.5547,322,223.5547,312,227.5547,316,223.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="92" x2="318" y1="223.5547" y2="223.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="99" y="218.4888">バックアップファイル</text><polygon fill="#181818" points="623,248.6875,633,252.6875,623,256.6875,627,252.6875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="334" x2="629" y1="252.6875" y2="252.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="341" y="247.6216">Dockerの起動</text><polygon fill="#181818" points="623,292.9531,633,296.9531,623,300.9531,627,296.9531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="334" x2="629" y1="296.9531" y2="296.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="341" y="276.7544">バックアップファイル</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="341" y="291.8872">のインポート</text><!--MD5=[40195b684d98d0996dae6b1ed415d3fb]
@startuml
title Docker生成

' アクター定義
participant "WordPress管理バケット\n(S3)" as wp
participant "バッチサーバー" as batch
participant "Dockerリポジトリ\n(DockerHub or ECR)" as dockerHub
participant "サイト用インスタンス\n(Docker)" as docker

' Dockerの起動
activate batch
batch -> dockerHub ++ : バージョンに応じた\nイメージの取得
batch <- dockerHub - - : DockerImage
batch -> wp ++ : 対象のバックアップファイルを要求
batch <- wp - - : バックアップファイル
batch -> docker ++ : Dockerの起動
batch -> docker : バックアップファイル\nのインポート
@enduml

@startuml
title Docker生成

participant "WordPress管理バケット\n(S3)" as wp
participant "バッチサーバー" as batch
participant "Dockerリポジトリ\n(DockerHub or ECR)" as dockerHub
participant "サイト用インスタンス\n(Docker)" as docker

activate batch
batch -> dockerHub ++ : バージョンに応じた\nイメージの取得
batch <- dockerHub - - : DockerImage
batch -> wp ++ : 対象のバックアップファイルを要求
batch <- wp - - : バックアップファイル
batch -> docker ++ : Dockerの起動
batch -> docker : バックアップファイル\nのインポート
@enduml

PlantUML version 1.2022.14beta1(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>