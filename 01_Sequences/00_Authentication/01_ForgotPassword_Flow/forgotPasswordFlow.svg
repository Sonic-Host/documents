<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1112px" preserveAspectRatio="none" style="width:801px;height:1112px;background:#FFFFFF;" version="1.1" viewBox="0 0 801 1112" width="801px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="105" x="347" y="27.9951">パスワード忘れ</text><rect fill="#FFFFFF" height="873.3203" style="stroke:#181818;stroke-width:1.0;" width="10" x="274" y="149.7266"/><rect fill="#FFFFFF" height="272.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="279" y="641.5859"/><rect fill="#FFFFFF" height="43.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="493" y="554.1875"/><rect fill="#FFFFFF" height="56.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="493" y="786.25"/><rect fill="#FFFFFF" height="57.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="608" y="163.7266"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="741" y="192.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="29" x2="29" y1="118.5938" y2="1032.0469"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="278.5" x2="278.5" y1="118.5938" y2="1032.0469"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="497.5" x2="497.5" y1="118.5938" y2="1032.0469"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="612.5" x2="612.5" y1="118.5938" y2="1032.0469"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="746" x2="746" y1="118.5938" y2="1032.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="5" y="115.292">ユーザ</text><ellipse cx="29" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M29,58.7969 L29,85.7969 M16,66.7969 L42,66.7969 M29,85.7969 L16,100.7969 M29,85.7969 L42,100.7969 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="5" y="1044.042">ユーザ</text><ellipse cx="29" cy="1055.8438" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M29,1063.8438 L29,1090.8438 M16,1071.8438 L42,1071.8438 M29,1090.8438 L16,1105.8438 M29,1090.8438 L42,1105.8438 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127" x="215.5" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="223" y="90.9951">クライアント端末</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="222.5" y="107.292">(PCまたはスマホ)</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127" x="215.5" y="1031.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="223" y="1051.042">クライアント端末</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="222.5" y="1067.3389">(PCまたはスマホ)</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="457.5" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="470" y="90.9951">認証基盤</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="464.5" y="107.292">(Cognito)</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="457.5" y="1031.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="470" y="1051.042">認証基盤</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="464.5" y="1067.3389">(Cognito)</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="561.5" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="597.5" y="90.9951">CDN</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="568.5" y="107.292">(CloudFront)</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="561.5" y="1031.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="597.5" y="1051.042">CDN</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="568.5" y="1067.3389">(CloudFront)</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="697" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="704" y="90.9951">SPA資材格納</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="732" y="107.292">(S3)</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="697" y="1031.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="704" y="1051.042">SPA資材格納</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="732" y="1067.3389">(S3)</text><rect fill="#FFFFFF" height="873.3203" style="stroke:#181818;stroke-width:1.0;" width="10" x="274" y="149.7266"/><rect fill="#FFFFFF" height="272.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="279" y="641.5859"/><rect fill="#FFFFFF" height="43.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="493" y="554.1875"/><rect fill="#FFFFFF" height="56.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="493" y="786.25"/><rect fill="#FFFFFF" height="57.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="608" y="163.7266"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="741" y="192.8594"/><polygon fill="#181818" points="262,145.7266,272,149.7266,262,153.7266,266,149.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="29" x2="268" y1="149.7266" y2="149.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="36" y="144.6606">管理画面起動</text><polygon fill="#181818" points="596,159.7266,606,163.7266,596,167.7266,600,163.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="284" x2="602" y1="163.7266" y2="163.7266"/><polygon fill="#181818" points="729,188.8594,739,192.8594,729,196.8594,733,192.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="618" x2="735" y1="192.8594" y2="192.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="625" y="187.7935">バンドル資材要求</text><polygon fill="#181818" points="629,202.8594,619,206.8594,629,210.8594,625,206.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="623" x2="745" y1="206.8594" y2="206.8594"/><polygon fill="#181818" points="295,216.8594,285,220.8594,295,224.8594,291,220.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="289" x2="612" y1="220.8594" y2="220.8594"/><line style="stroke:#181818;stroke-width:1.0;" x1="284" x2="326" y1="249.9922" y2="249.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="326" x2="326" y1="249.9922" y2="262.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="285" x2="326" y1="262.9922" y2="262.9922"/><polygon fill="#181818" points="295,258.9922,285,262.9922,295,266.9922,291,262.9922" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="291" y="244.9263">バンドル資材読み込み</text><line style="stroke:#181818;stroke-width:1.0;" x1="284" x2="326" y1="292.125" y2="292.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="326" x2="326" y1="292.125" y2="305.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="285" x2="326" y1="305.125" y2="305.125"/><polygon fill="#181818" points="295,301.125,285,305.125,295,309.125,291,305.125" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="291" y="287.0591">トークンチェック</text><rect fill="#FFA500" height="23" style="stroke:#181818;stroke-width:0.5;" width="138" x="289" y="318.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="293" y="334.1919">トークンチェック失敗</text><line style="stroke:#181818;stroke-width:1.0;" x1="284" x2="326" y1="367.3906" y2="367.3906"/><line style="stroke:#181818;stroke-width:1.0;" x1="326" x2="326" y1="367.3906" y2="380.3906"/><line style="stroke:#181818;stroke-width:1.0;" x1="285" x2="326" y1="380.3906" y2="380.3906"/><polygon fill="#181818" points="295,376.3906,285,380.3906,295,384.3906,291,380.3906" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="291" y="362.3247">ログイン画面表示</text><polygon fill="#181818" points="262,420.6563,272,424.6563,262,428.6563,266,424.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="29" x2="268" y1="424.6563" y2="424.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="36" y="404.4575">「パスワードを忘れた場合はこちら」</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="36" y="419.5903">をクリック</text><line style="stroke:#181818;stroke-width:1.0;" x1="284" x2="326" y1="453.7891" y2="453.7891"/><line style="stroke:#181818;stroke-width:1.0;" x1="326" x2="326" y1="453.7891" y2="466.7891"/><line style="stroke:#181818;stroke-width:1.0;" x1="285" x2="326" y1="466.7891" y2="466.7891"/><polygon fill="#181818" points="295,462.7891,285,466.7891,295,470.7891,291,466.7891" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="291" y="448.7231">パスワードリマインダ画面を表示</text><polygon fill="#181818" points="262,491.9219,272,495.9219,262,499.9219,266,495.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="29" x2="268" y1="495.9219" y2="495.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="36" y="490.856">メールアドレス入力</text><polygon fill="#181818" points="262,521.0547,272,525.0547,262,529.0547,266,525.0547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="29" x2="268" y1="525.0547" y2="525.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="36" y="519.9888">確認押下</text><polygon fill="#181818" points="481,550.1875,491,554.1875,481,558.1875,485,554.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="284" x2="487" y1="554.1875" y2="554.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="291" y="549.1216">パスワードリマインダAPI</text><polygon fill="#181818" points="40,579.3203,30,583.3203,40,587.3203,36,583.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="34" x2="492" y1="583.3203" y2="583.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="46" y="578.2544">メール送信</text><polygon fill="#181818" points="295,593.3203,285,597.3203,295,601.3203,291,597.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="289" x2="497" y1="597.3203" y2="597.3203"/><polygon fill="#181818" points="267,637.5859,277,641.5859,267,645.5859,271,641.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="29" x2="273" y1="641.5859" y2="641.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="36" y="621.3872">メールからリンクを押下</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="36" y="636.52">新規ブラウザ</text><line style="stroke:#181818;stroke-width:1.0;" x1="289" x2="331" y1="685.8516" y2="685.8516"/><line style="stroke:#181818;stroke-width:1.0;" x1="331" x2="331" y1="685.8516" y2="698.8516"/><line style="stroke:#181818;stroke-width:1.0;" x1="290" x2="331" y1="698.8516" y2="698.8516"/><polygon fill="#181818" points="300,694.8516,290,698.8516,300,702.8516,296,698.8516" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="296" y="665.6528">パスワードリセット画面開く</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="296" y="680.7856">Cognito提供</text><polygon fill="#181818" points="267,723.9844,277,727.9844,267,731.9844,271,727.9844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="29" x2="273" y1="727.9844" y2="727.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="36" y="722.9185">検証コードと新パスワード入力</text><polygon fill="#181818" points="267,753.1172,277,757.1172,267,761.1172,271,757.1172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="29" x2="273" y1="757.1172" y2="757.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="36" y="752.0513">確認押下</text><polygon fill="#181818" points="481,782.25,491,786.25,481,790.25,485,786.25" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="289" x2="487" y1="786.25" y2="786.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="296" y="781.1841">パスワードリセットAPI</text><line style="stroke:#181818;stroke-width:1.0;" x1="503" x2="545" y1="815.3828" y2="815.3828"/><line style="stroke:#181818;stroke-width:1.0;" x1="545" x2="545" y1="815.3828" y2="828.3828"/><line style="stroke:#181818;stroke-width:1.0;" x1="504" x2="545" y1="828.3828" y2="828.3828"/><polygon fill="#181818" points="514,824.3828,504,828.3828,514,832.3828,510,828.3828" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="510" y="810.3169">パスワード更新</text><polygon fill="#181818" points="300,838.3828,290,842.3828,300,846.3828,296,842.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="294" x2="497" y1="842.3828" y2="842.3828"/><line style="stroke:#181818;stroke-width:1.0;" x1="289" x2="331" y1="871.5156" y2="871.5156"/><line style="stroke:#181818;stroke-width:1.0;" x1="331" x2="331" y1="871.5156" y2="884.5156"/><line style="stroke:#181818;stroke-width:1.0;" x1="290" x2="331" y1="884.5156" y2="884.5156"/><polygon fill="#181818" points="300,880.5156,290,884.5156,300,888.5156,296,884.5156" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="296" y="866.4497">完了画面表示</text><polygon fill="#181818" points="262,909.6484,272,913.6484,262,917.6484,266,913.6484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="29" x2="268" y1="913.6484" y2="913.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="36" y="908.5825">タブを閉じる</text><polygon fill="#181818" points="262,938.7813,272,942.7813,262,946.7813,266,942.7813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="29" x2="268" y1="942.7813" y2="942.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="36" y="937.7153">SonicHostを開く</text><line style="stroke:#181818;stroke-width:1.0;" x1="284" x2="326" y1="971.9141" y2="971.9141"/><line style="stroke:#181818;stroke-width:1.0;" x1="326" x2="326" y1="971.9141" y2="984.9141"/><line style="stroke:#181818;stroke-width:1.0;" x1="285" x2="326" y1="984.9141" y2="984.9141"/><polygon fill="#181818" points="295,980.9141,285,984.9141,295,988.9141,291,984.9141" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="291" y="966.8481">ログイン画面を開く</text><polygon fill="#181818" points="262,1010.0469,272,1014.0469,262,1018.0469,266,1014.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="29" x2="268" y1="1014.0469" y2="1014.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="36" y="1008.981">新パスワードを入力</text><!--MD5=[d8e26104b9acecc81848848c813f5939]
@startuml
title パスワード忘れ


' アクター定義
actor "ユーザ" as user
participant "クライアント端末\n(PCまたはスマホ)" as device
participant "認証基盤\n(Cognito)" as cognito
participant "CDN\n(CloudFront)" as cdn
participant "SPA資材格納\n(S3)" as spa

' 起動
user -> device ++ : 管理画面起動
device -> cdn ++
cdn -> spa ++ : バンドル資材要求
cdn <- spa - -
device <- cdn - -
device ->device : バンドル資材読み込み
device -> device: トークンチェック
' トークンチェック
rnote right of device #Orange
    トークンチェック失敗
end note
device -> device : ログイン画面表示
' パスワードリマインダフロー
user -> device : 「パスワードを忘れた場合はこちら」\nをクリック
device -> device : パスワードリマインダ画面を表示
user -> device : メールアドレス入力
user -> device : 確認押下
device -> cognito ++ : パスワードリマインダAPI
cognito -> user : メール送信
device <- cognito - -
user -> device ++ : メールからリンクを押下\n新規ブラウザ
device -> device : パスワードリセット画面開く\nCognito提供
user -> device : 検証コードと新パスワード入力
user -> device : 確認押下
device -> cognito ++ : パスワードリセットAPI
cognito -> cognito : パスワード更新
device <- cognito - - 
device -> device : 完了画面表示
user -> device : タブを閉じる
deactivate device

user -> device : SonicHostを開く
device -> device : ログイン画面を開く
user -> device : 新パスワードを入力
@enduml

@startuml
title パスワード忘れ


actor "ユーザ" as user
participant "クライアント端末\n(PCまたはスマホ)" as device
participant "認証基盤\n(Cognito)" as cognito
participant "CDN\n(CloudFront)" as cdn
participant "SPA資材格納\n(S3)" as spa

user -> device ++ : 管理画面起動
device -> cdn ++
cdn -> spa ++ : バンドル資材要求
cdn <- spa - -
device <- cdn - -
device ->device : バンドル資材読み込み
device -> device: トークンチェック
rnote right of device #Orange
    トークンチェック失敗
end note
device -> device : ログイン画面表示
user -> device : 「パスワードを忘れた場合はこちら」\nをクリック
device -> device : パスワードリマインダ画面を表示
user -> device : メールアドレス入力
user -> device : 確認押下
device -> cognito ++ : パスワードリマインダAPI
cognito -> user : メール送信
device <- cognito - -
user -> device ++ : メールからリンクを押下\n新規ブラウザ
device -> device : パスワードリセット画面開く\nCognito提供
user -> device : 検証コードと新パスワード入力
user -> device : 確認押下
device -> cognito ++ : パスワードリセットAPI
cognito -> cognito : パスワード更新
device <- cognito - - 
device -> device : 完了画面表示
user -> device : タブを閉じる
deactivate device

user -> device : SonicHostを開く
device -> device : ログイン画面を開く
user -> device : 新パスワードを入力
@enduml

PlantUML version 1.2022.14beta4(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>